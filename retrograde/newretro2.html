<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="robots" content="noindex, nofollow">
	<meta name="googlebot" content="noindex, nofollow">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="retrograde.js"></script>
	<script type="text/javascript" src="styling.js"></script>
	<!--<link rel="stylesheet" type="text/css" href="/css/result-light.css">-->
	<link rel="stylesheet" type="text/css" href="retrograde.css">
	<title>Retrograde Lifespan Scorer</title>

</head>

<body>
	<div id="SideBar" class="sidebar">

		<button class="collapsible" id="open-sidebar" onclick="changeBrightness()">&#9776; open</button>
		<div class="nav-content">
			<ul>
				<li>
					<a href="/cgi-bin/scheduler">Scheduler</a>

				</li>
				<li>
					<a href="/retrograde/retrograde.html">Retrograde</a>

				</li>
				<li>
					<a href="/cgi-bin/experimentbrowser">ExperimentBrowser</a>

				</li>
				<li>
					<a href="/cgi-bin/wormbotstatus">Status</a>

				</li>

			</ul>
		</div>
		<!--     <script>
        var coll = document.getElementById("open-sidebar");
        var i;
        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        }
    </script> -->
		<div class="control-panel" id="control-panel">

			<button class="collapsible">Movie Options <span class="expand-mark">+</span></button>
			
			<div class="content" id="movie-div">
				<form action="" method="post" id="updateForm1">
					<ul>
						<li>
							<label for="startmovie">Movie Start</label>
							<input type="text" id="moviestart" name="moviestart" placeholder="type something...">
						</li>
						<li>
							<label for="stopmovie">Movie End</label>
							<input type="text" id="moviestop" name="moviestop" placeholder="type something...">
						</li>
						
						Movie Channel: <select id="movchan" name="movchan">
    					<option value="bf">Bright Field</option>
					<option value="gfp">GFP</option>
					<option value="cherry">Cherry</option>
					<option value="uv">UV</option></select>
							
						
				
				

			</ul>

					

						
						
		
								
				

					</ul>
					<label class="checkbox-container">Check to build new movie
						<input type="checkbox" id="buildMovie" name="buildMovie">
						<span class="checkmark"></span>
					</label>

				</form>
			</div>
				<!-- Check to build new movie<input type="checkbox" id="buildMovie" name="buildMovie"> -->
				
			
			<button class="collapsible">Thresholding <span class="expand-mark">+</span></button>
			<div class="content" id="threshold-div">
				<form action="" method="post" id="updateForm2">
					<ul>
						<li>
							<label for="lowerthresh">Lower threshold</label>
							<input type="text" id="lowerthresh" name="lowerthresh" placeholder="type something...">
						</li>
						<li>
							<label for="upperthresh">Upper Threshold</label>
							<input type="text" id="upperthresh" name="upperthresh" placeholder="type something...">
						</li>
					</ul>
					<label class="checkbox-container">Check to update contour
						thresholds
						<input type="checkbox" id="updatecontours" name="updatecontours">
						<span class="checkmark"></span>
					</label>
				</form>
			</div>
			<button class="collapsible">Lifespan Prediction <span class="expand-mark">+</span></button>
			<div class="content" id="lp-div"></div>
			<button class="collapsible">Frame Navigation <span class="expand-mark">+</span></button>
			<div class="content" id="fn-div"></div>
			<button class="collapsible">Manual Scoring <span class="expand-mark">+</span></button>
			<div class="content" id="ms-div"></div>
			<button class="collapsible">Image Channels <span class="expand-mark">+</span></button>
			<div class="content" id="ic-div">
			<ul>
				<li>
					<label class="checkbox-container">Brightfield
						<input type="checkbox" id="BFchan" name="BFchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">GFP
						<input type="checkbox" id="GFPchan" name=GFPchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">Cherry
						<input type="checkbox" id="CHERRYchan" name="CHERRYchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">UV
						<input type="checkbox" id="UVchan" name="UVchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">Contour
						<input type="checkbox" id="CONTchan" name="CONTchan">
						<span class="checkmark"></span>
				</li>

			</ul>
							
			</div>
			<button class="collapsible">Selection Tools <span class="expand-mark">+</span></button>
			<div class="content" id="st-div">
			
				
					

				Selection Style:
				<ul>
					<li>
					<label class="radio-container">Rectangle
						<input name="selectstyle" type="radio" id="selectstyle"  value="rect">
						<span class="radiomark"></span>
				</li>

				<li>
					<label class="radio-container">Elipse
						<input name="selectstyle" type="radio" id="selectstyle" value="elipse">
						<span class="radiomark"></span>
				</li>
				<li>
					<label class="radio-container">Fixed Size Rect
						<input type="radio" id="selectstyle" name="selectstyle" value="fixed">
						<span class="radiomark"></span>
				</li>
				</ul>
				Width <input type="text" id="fixedW" name="fixedW" value="100"> <P>
				Heigth <input type="text" id="fixedH" name="fixedH" value="100"> 
<hr>

				
				Selection Target:
				<ul>
				<li>
					<label class="radio-container"><font color=#00ff00>Set Life Span Prediction</font>
						<input type="radio" id="selectstate" name="selectstate" value="lifespan">
						<span class="radiomark"></span>
				</li>
				<li>
					<label class="radio-container"><font color=#ff00ff>Set Analysis Area</font>
						<input type="radio" id="selectstate" name="selectstate" value="analysis">
						
						<span class="radiomark"></span>
				</li>
				<li>
					<label class="radio-container"><font color=#00ffff>Set Background Area</font>
						<input type="radio" id="selectstate" name="selectstate" value="background">
						<span class="radiomark"></span>
				</li>
				<li>
					<label class="radio-container"><font color=#00ffff>Define Lawn</font>
						<input type="radio" id="selectstate" name="selectstate" value="lawn">
						<span class="radiomark"></span>
				</li>
				<li>
					<label class="radio-container"><font color=#ffffff>Measure</font>
						<input type="radio" id="selectstate" name="selectstate" value="measure">
						<span class="radiomark"></span>
				</li>
				

			</ul
			<hr>
			<font color=#ff00ff>RegionID<input type="text" id="analID" name="analID" value="0"></input><p>
			Analyze Channel: <select id="analChan" name="analChan">
    					<option value="bf">Bright Field</option>
					<option value="gfp">GFP</option>
					<option value="cherry">Cherry</option>
					<option value="uv">UV</option></select>
			</font>
				

			
							
			</div>
			
			
		</div>

	</div>

	<div id="main">
		<span id="btn-sidebar" class="btn-sidebar" onclick="controlSideBar()">&#60;</span>
		<span style="font-size:25px;padding-left:10px;">Retrograde | Current Frame:<i id="currframeID"> 000000 </i> | Experiment ID:<i id="currexpID"> 000000 </i> | Frame Move: <i id="shiftlockerID">OFF</i> | Zoom: <i id="zoomID"> 1.05 </i> </span>
		<div class="guide">
			Guide
			<span class="guide_text">
				Left click to drag rectangles around corpses for time of death estimation. Right click to enter time
				of
				death.
				Middle click on a marker to delete it.<BR> Arrow keys move through stack. Right and left go forward
				or
				backwards
				1 frame. Up and down arrows go forward or backwards 10 frames
			</span>
		</div>
		<canvas id="canvas" width=1920 height=1080></canvas>

	</div>

	<script>
		var coll = document.getElementsByClassName("collapsible");
		var i;
		for (i = 0; i < coll.length; i++) {
			coll[i].addEventListener("click", function () {
				this.classList.toggle("active");
				var content = this.nextElementSibling;
				var icon = this.children[0];
				if (content.style.maxHeight) {
					content.style.maxHeight = null;
					if (icon != null) icon.innerHTML = "+";
				} else {
					content.style.maxHeight = content.scrollHeight + "px";
					if (icon != null) icon.innerHTML = "-";
				}
			});
		}
	</script>
</body>

</html>

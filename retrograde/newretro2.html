<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="robots" content="noindex, nofollow">
	<meta name="googlebot" content="noindex, nofollow">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="retrograde.js"></script>
	<script type="text/javascript" src="styling.js"></script>
	<!--<link rel="stylesheet" type="text/css" href="/css/result-light.css">-->
	<link rel="stylesheet" type="text/css" href="retrograde.css">
	<title>Retrograde Lifespan Scorer</title>

</head>

<body>
	<div id="SideBar" class="sidebar">

		<button class="collapsible" id="open-sidebar" onclick="changeBrightness()">&#9776; open</button>
		<div class="nav-content">
			<ul>
				<li>
					<a href="#">Schduler</a>

				</li>
				<li>
					<a href="#">Retrograde</a>

				</li>
				<li>
					<a href="#">ExperimentBrowser</a>

				</li>
				<li>
					<a href="#">Status</a>

				</li>

			</ul>
		</div>
		<!--     <script>
        var coll = document.getElementById("open-sidebar");
        var i;
        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        }
    </script> -->
		<div class="control-panel" id="control-panel">

			<button class="collapsible">Movie Options <span class="expand-mark">+</span></button>
			<div class="content" id="movie-div">
				<form action="" method="post" id="updateForm1">
					<ul>
						<li>
							<label for="startmovie">Movie Start</label>
							<input type="text" id="startmovie" name="moviestart" placeholder="type something...">
						</li>
						<li>
							<label for="stopmovie">Movie End</label>
							<input type="text" id="stopmovie" name="moviestop" placeholder="type something...">
						</li>



					</ul>
					<label class="checkbox-container">Check to build new movie
						<input type="checkbox" id="buildMovie" name="buildMovie">
						<span class="checkmark"></span>
					</label>

				</form>
				<!-- Check to build new movie<input type="checkbox" id="buildMovie" name="buildMovie"> -->
				
			</div>
			<button class="collapsible">Thresholding <span class="expand-mark">+</span></button>
			<div class="content" id="threshold-div">
				<form action="" method="post" id="updateForm2">
					<ul>
						<li>
							<label for="lowerthresh">Lower threshold</label>
							<input type="text" id="lowerthresh" name="lowerthresh" placeholder="type something...">
						</li>
						<li>
							<label for="upperthresh">Upper Threshold</label>
							<input type="text" id="upperthresh" name="upperthresh" placeholder="type something...">
						</li>
					</ul>
					<label class="checkbox-container">Check to update contour
						thresholds
						<input type="checkbox" id="updatecontours" name="updatecontours">
						<span class="checkmark"></span>
					</label>
				</form>
			</div>
			<button class="collapsible">Lifespan Prediction <span class="expand-mark">+</span></button>
			<div class="content" id="lp-div"></div>
			<button class="collapsible">Frame Navigation <span class="expand-mark">+</span></button>
			<div class="content" id="fn-div"></div>
			<button class="collapsible">Manual Sporing <span class="expand-mark">+</span></button>
			<div class="content" id="ms-div"></div>
			<button class="collapsible">Image Channels <span class="expand-mark">+</span></button>
			<div class="content" id="ic-div">
			<ul>
				<li>
					<label class="checkbox-container">Brightfield
						<input type="checkbox" id="BFchan" name="BFchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">GFP
						<input type="checkbox" id="GFPchan" name=GFPchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">Cherry
						<input type="checkbox" id="CHERRYchan" name="CHERRYchan">
						<span class="checkmark"></span>
				</li>
				<li>
					<label class="checkbox-container">UV
						<input type="checkbox" id="UVchan" name="UVchan">
						<span class="checkmark"></span>
				</li>

			</ul>
							
			</div>
			
			<a href='javascript:;' onclick='popContourPreview();'>Preview contour</a>
			<canvas id="preview-canvas" width=1920 height=1080 style="background-color: white;width:100%;height:100%"></canvas>
		</div>

	</div>

	<div id="main">
		<span id="btn-sidebar" class="btn-sidebar" onclick="controlSideBar()">&#60;</span>
		<span style="font-size:25px;padding-left:10px;">Retrograde</span>
		<div class="guide">
			Guide
			<span class="guide_text">
				Left click to drag rectangles around corpses for time of death estimation. Right click to enter time
				of
				death.
				Middle click on a marker to delete it.<BR> Arrow keys move through stack. Right and left go forward
				or
				backwards
				1 frame. Up and down arrows go forward or backwards 10 frames
			</span>
		</div>
		<canvas id="canvas" width=1920 height=1080></canvas>

	</div>

	<script>
		var coll = document.getElementsByClassName("collapsible");
		var i;
		for (i = 0; i < coll.length; i++) {
			coll[i].addEventListener("click", function () {
				this.classList.toggle("active");
				var content = this.nextElementSibling;
				var icon = this.children[0];
				if (content.style.maxHeight) {
					content.style.maxHeight = null;
					if (icon != null) icon.innerHTML = "+";
				} else {
					content.style.maxHeight = content.scrollHeight + "px";
					if (icon != null) icon.innerHTML = "-";
				}
			});
		}
	</script>
</body>

</html>
